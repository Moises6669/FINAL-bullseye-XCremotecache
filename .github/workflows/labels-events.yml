name: labels-events

concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true

on: 
  pull_request:
    types: [ labeled, synchronize ]
  workflow_dispatch:

jobs:
  test1:
    runs-on: ubuntu-latest
    steps:
    
    - name: Test01
      if: github.event.label.name == 'label-test'
      run: |
        echo "only first 1"
        echo ${{ github.workflow }}
        echo ${{ github.ref }}

    - name: Test01.1
      run: echo "hello from the first step 01"
  
  test2:
    runs-on: ubuntu-latest
    steps:
    - name: Test02
      if: github.event.label.name == 'label-test1'
      run: |
        echo "hello from second step"
        echo "hello 2 from second step"

  test3:
    runs-on: macos-11
    steps:
    - name: TesT03
      if: github.event.label.name == 'label-test2'
      run: |
        echo "inside"
        echo ${{ github.workflow }}
    
